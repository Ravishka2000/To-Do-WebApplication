{"ast":null,"code":"import _objectSpread from\"/Users/ravishkadulshan/Documents/MERN/To-Do-WebApplication/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ravishkadulshan/Documents/MERN/To-Do-WebApplication/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ToDos=function ToDos(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];useEffect(function(){axios.get('http://localhost:8090/').then(function(res){setTodos(res.data.todos);}).catch(function(res){alert(res.data.message);});},[]);var handleClick=function handleClick(id,isCompleted){axios.patch(\"http://localhost:8090/update-completed/\".concat(id),{completed:!isCompleted}).then(function(){setTodos(function(prevTodos){return prevTodos.map(function(todo){if(todo._id===id){return _objectSpread(_objectSpread({},todo),{},{completed:!isCompleted});}return todo;});});});};var handleDelete=function handleDelete(id){axios.delete(\"http://localhost:8090/delete/\".concat(id)).then(function(){setTodos(function(prevTodos){return prevTodos.filter(function(todo){return todo._id!==id;});});}).catch(function(res){alert(res.data.message);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 p-4 shadow p-2 mb-3 bg-body-tertiary rounded\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-5 text-primary-emphasis fw-bolder\",children:\"Your Task's\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Descriptioin\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Due Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:todos.map(function(todo){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:todo.title}),/*#__PURE__*/_jsx(\"td\",{children:todo.description}),/*#__PURE__*/_jsx(\"td\",{children:new Date(todo.dueDate).toLocaleDateString('en-US')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(todo.completed?'bi-check-circle-fill':'bi-circle',\" btn\"),onClick:function onClick(){return handleClick(todo._id,todo.completed);}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"bi bi-pencil-square btn btn-success\",to:\"/update/\".concat(todo._id)}),/*#__PURE__*/_jsx(\"button\",{className:\"bi bi-trash btn btn-danger ms-3\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#deleteModal\".concat(todo._id)}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"deleteModal\".concat(todo._id),tabIndex:\"-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:\"Delete Task\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:\"Are you sure you want to delete this task?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",\"data-bs-dismiss\":\"modal\",onClick:function onClick(){return handleDelete(todo._id);},children:\"Delete\"})]})]})})})]})]},todo._id);})})]})]});};export default ToDos;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","ToDos","todos","setTodos","get","then","res","data","catch","alert","message","handleClick","id","isCompleted","patch","completed","prevTodos","map","todo","_id","handleDelete","delete","filter","title","description","Date","dueDate","toLocaleDateString"],"sources":["/Users/ravishkadulshan/Documents/MERN/To-Do-WebApplication/client/src/components/ToDos.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nconst ToDos = () => {\n\n    const [todos, setTodos] = useState([]);\n\n    useEffect(() => {\n        axios.get('http://localhost:8090/')\n            .then(res => {\n                setTodos(res.data.todos);\n            })\n            .catch(res => { alert(res.data.message) });\n    }, [])\n\n\n    const handleClick = (id, isCompleted) => {\n        axios.patch(`http://localhost:8090/update-completed/${id}`, { completed: !isCompleted }).then(() => {\n            setTodos(prevTodos => prevTodos.map(todo => {\n                if (todo._id === id) {\n                    return {\n                        ...todo,\n                        completed: !isCompleted\n                    };\n                }\n                return todo;\n            }))\n        });\n    }\n\n    const handleDelete = (id) => {\n        axios.delete(`http://localhost:8090/delete/${id}`)\n            .then(() => {\n                setTodos(prevTodos => prevTodos.filter(todo => todo._id !== id));\n            })\n            .catch(res => { alert(res.data.message) }); \n    };\n\n    return (\n        <div className='container mt-5 p-4 shadow p-2 mb-3 bg-body-tertiary rounded'>\n            <h1 className='text-center mb-5 text-primary-emphasis fw-bolder'>Your Task's</h1>\n            <table className=\"table table-hover\">\n                <thead>\n                    <tr>\n                        <th>Title</th>\n                        <th>Descriptioin</th>\n                        <th>Due Date</th>\n                        <th>Status</th>\n                        <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {todos.map(todo => (\n                        <tr key={todo._id}>\n                            <td>{todo.title}</td>\n                            <td>{todo.description}</td>\n                            <td>{new Date(todo.dueDate).toLocaleDateString('en-US')}</td>\n                            <td>\n                                <i\n                                    className={`bi ${todo.completed ? 'bi-check-circle-fill' : 'bi-circle'} btn`}\n                                    onClick={() => handleClick(todo._id, todo.completed)}\n                                />\n                            </td>\n                            <td>\n                                \n                                <Link className='bi bi-pencil-square btn btn-success' to={`/update/${todo._id}`}></Link>\n\n                                <button\n                                    className='bi bi-trash btn btn-danger ms-3'\n                                    data-bs-toggle='modal'\n                                    data-bs-target={`#deleteModal${todo._id}`}\n                                />\n\n                                <div className='modal fade' id={`deleteModal${todo._id}`} tabIndex='-1'>\n                                    <div className='modal-dialog modal-dialog-centered'>\n                                        <div className='modal-content'>\n                                            <div className='modal-header'>\n                                                <h5 className='modal-title'>Delete Task</h5>\n                                                <button type='button' className='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>\n                                            </div>\n                                            <div className='modal-body'>\n                                                Are you sure you want to delete this task?\n                                            </div>\n                                            <div className='modal-footer'>\n                                                <button type='button' className='btn btn-secondary' data-bs-dismiss='modal'>Cancel</button>\n                                                <button type='button' className='btn btn-danger' data-bs-dismiss='modal' onClick={() => handleDelete(todo._id)}>Delete</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default ToDos\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}